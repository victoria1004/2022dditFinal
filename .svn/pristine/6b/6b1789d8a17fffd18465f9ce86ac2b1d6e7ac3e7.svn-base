<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form" %>
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<%
	//줄바꿈 처리
	pageContext.setAttribute("br", "<br/>");
	pageContext.setAttribute("cn", "\n");
%>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <title>Feed</title>
    <link href="/resources/assets/img/favicon.ico" rel="icon" type="image/x-icon"/>
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="https://fonts.googleapis.com/css?family=Quicksand:400,500,600,700&display=swap" rel="stylesheet">
    <link href="/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="/resources/assets/css/plugins.css" rel="stylesheet" type="text/css" />
    <link href="/resources/assets/css/structure.css" rel="stylesheet" type="text/css" class="structure" />
    <!-- END GLOBAL MANDATORY STYLES -->

    <!--  BEGIN CUSTOM STYLE FILE  -->
    <link href="/resources/plugins/editors/quill/quill.snow.css" rel="stylesheet" type="text/css" >
    <link href="/resources/assets/css/apps/todolist.css" rel="stylesheet" type="text/css" />
    
    <link href="/resources/plugins/sweetalerts/sweetalert2.min.css" rel="stylesheet" type="text/css" />
    <link href="/resources/plugins/sweetalerts/sweetalert.css" rel="stylesheet" type="text/css" />
    <link href="/resources/assets/css/components/custom-sweetalert.css" rel="stylesheet" type="text/css" />
    <link href="/resources/assets/css/forms/theme-checkbox-radio.css" rel="stylesheet" type="text/css" />
    <link href="/resources/assets/css/forms/switches.css" rel="stylesheet" type="text/css" />
    <link href="/resources/assets/css/main.css" rel="stylesheet" type="text/css" />
    
    <link href="/resources/plugins/flatpickr/custom-flatpickr.css" rel="stylesheet" type="text/css" />
    <link href="/resources/plugins/flatpickr/flatpickr.css" rel="stylesheet" type="text/css" />
    
    
    <!--  END CUSTOM STYLE FILE  -->

<style type="text/css">
	#fbtn {
		margin : 10px;
	} 
	
    #pstCn{
	    border: 1px solid #bfc9d4;
	    color: #3b3f5c;
	    font-size: 15px;
	    letter-spacing: 1px;
	    padding: 0.75rem 1.25rem;
	    border-radius: 6px;
	}

	.LikesSection{
		margin: 15px;	
	}
	
	.comment{
		margin: 10px;
	}
	
	.notification{
		font-size: 14px;
		margin-top : 10px;
		margin-left : 8px;
		width : 75px;
		height: 30px;
		line-height : 30px;
		color: #fff !important;
	    background-color: #8dbf42;
	    border-color: #8dbf42;
	    border-radius: 1.875rem !important;
	}
	
	.switch, .slider{
		margin: 10px 0px 0px;
	}
	
	.input-group mb-3{
		margin-left: 4px;
	}
	
</style>
<script type="text/javascript">
		
	//피드 시작
	$(function(){
		//피드 수정 버튼 클릭
		$('.rounded-circle2').on('click', function () {

			//기존 내용 보이게
			var pstVal = $("p", $(this).parent().next()).text();
			var pstNo = $(".pstNo", $(this).parent()).val();
			var ntcYn = $(".ntcYn", $(this).parent()).val();
			console.log("수정버튼 클릭시@", pstVal);
			console.log("수정버튼 클릭시@", pstNo);
			console.log("수정버튼 클릭시@", ntcYn);
			
			$("#pstCn2").val(pstVal);
			$("#pstCn").val(pstVal);
			$("#pstNo").val(pstNo);
			$("#ntcYn").val(ntcYn);
			var noticeYn = $("#ntcYn").val();
			console.log("noticeYn",noticeYn);

			//수정 모달창 생성 시 등록버튼 가리기
			$("#submit").hide();
			//수정 버튼 보이게
			$("#modify").show();
			
			//수정할 내용이 공지라면 공지버튼 색 눌려있게
			if(noticeYn === 'Y'){
				$("#notifyC").show();
				$("#notifyB").hide();
			}
			
		})
		
	});

	//피드 수정 내용 전달
	function fn_update(pstCn, pstNo, ntcYn) {
		var pstCn = pstCn.value;
		var pstNo = pstNo.value;
		var ntcYn = ntcYn.value;
		
		console.log("pstCn", pstCn);
		console.log("pstNo", pstNo);
		console.log("ntcYn", ntcYn);

		$.ajax({
			type : "post",
			url : "/feed/update.do",
			data : {
				"pstCn" : pstCn,
				"pstNo" : pstNo,
				"ntcYn" : ntcYn
			},
			dataType : 'text',
			success : function() {
				console.log("success");
				location.href = "/feed/main.do";
			},
			error : function() {
				console.log("error");
			}
		})

	}
	
	//피드 등록 시 공지 버튼 클릭
	function fn_notify(e){
		console.log(e.className);
		
		if(e.className === 'btn btn-outline-success btn-rounded mb-2'){
			//클릭된 버튼 색 바꾸기
			$(e).removeClass('btn btn-outline-success btn-rounded mb-2').addClass('btn btn-success btn-rounded mb-2');
			//공지 여부 바꾸기
			//현재 값 가져오기
			var res = $("input[name=ntcYn]").val();
			console.log(res);
			//현재 값 비우기
			$("input[name=ntcYn]").empty();
			//변경 값 넣기
			var resChange = $("input[name=ntcYn]").attr('value','Y');
			//변경 값 확인
			console.log($("input[name=ntcYn]").val());
		}else{
			//클릭된 버튼 색 해제
			$(e).removeClass('btn btn-success btn-rounded mb-2').addClass('btn btn-outline-success btn-rounded mb-2');
			//공지 여부 바꾸기
			//현재 값 가져오기
			var res = $("input[name=ntcYn]").val();
			console.log(res);
			//현재 값 비우기
			$("input[name=ntcYn]").empty();
			//변경 값 넣기
			var resChange = $("input[name=ntcYn]").attr('value','N');
			//변경 값 확인
			console.log($("input[name=ntcYn]").val());
		}
		
		
	}
	
	//피드 등록 시 투표 버튼 클릭
	function fn_vote(e){
		console.log(e.className);
		
		if(e.className === 'btn btn-outline-warning btn-rounded mb-2'){
			//클릭된 버튼 색 바꾸기
			$(e).removeClass('btn btn-outline-warning btn-rounded mb-2').addClass('btn btn-warning btn-rounded mb-2');
			//버튼 창 추가
			$(".voteSection").show();
			
		}else{
			//클릭된 버튼 색 해제
			$(e).removeClass('btn btn-warning btn-rounded mb-2').addClass('btn btn-outline-warning btn-rounded mb-2');
			$(".voteSection").hide();
		}
		
	}
	
		//투표 등록 화면
		//투표 +버튼 눌렀을 때 아래 input태그 추가하기
		$(document).on("click", ".votePlus", function(){
			
			var voteCon = '<div class="input-group mb-3">';
			voteCon += '<input type="text" class="Voteform-control" placeholder="투표 내용을 입력해주세요" style="width:340px; height: 37px;">';
			voteCon += '<div class="input-group-append">';
			voteCon += '<button class="btn btn-outline-dark mb-1 votePlus" type="button" style="margin-right: 0px;">';
			voteCon += '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>';
			voteCon += '</button>';
			voteCon += '<button class="btn btn-outline-dark mb-1 voteMinus" type="button">';
			voteCon += '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus"><line x1="5" y1="12" x2="19" y2="12"></line></svg>';
			voteCon += '</button>';
			voteCon += '</div>';
			voteCon += '</div>';
			
			$(".voteSection").append(voteCon);
			
		})
		
		//투표 -버튼 눌렀을 때 해당 내용 지우기
		$(document).on("click", ".voteMinus", function(e){
			$(this).parent().parent().remove();
		})
		
		
	
	
	
	//피드 등록 시 위치 버튼 클릭
	function fn_map(e){
		$(e).removeClass('btn btn-outline-info btn-rounded mb-2').addClass('btn btn-info btn-rounded mb-2');
		
	}
	
	//피드 등록 시 이미지 버튼 클릭
	function fn_image(e){
		//버튼 색 바꾸기
		$(e).removeClass('btn btn-outline-danger btn-rounded mb-2').addClass('btn btn-danger btn-rounded mb-2');
		
	}

	//다음 우편번호 검색
	function openHomeSearch(){
		new daum.Postcode({
			oncomplete:function(data){
				//console.log("data : " + JSON.stringify(data)); //콘솔에 data : [object Object]로 찍혀서 JSON.stringify() 해줌
				$('[name=postno]').val(data.zonecode);
				$('[name=addr]').val(data.address);
				$('[name=detAddr]').val(data.buildingName);
			}
		}).open();
	}
		 
	//피드 삭제 버튼 클릭 시 이벤트 발생
	function fn_delete(pstNo) {
		
		const swalWithBootstrapButtons = swal.mixin({
			confirmButtonClass : 'btn btn-success btn-rounded',
			cancelButtonClass : 'btn btn-danger btn-rounded mr-3',
			buttonsStyling : false,
		})

		swalWithBootstrapButtons({
			title : '피드를 삭제하시겠습니까?',
			text : "",
			type : 'warning',
			showCancelButton : true,
			confirmButtonText : 'OK',
			cancelButtonText : 'Cancel',
			reverseButtons : true,
			padding : '2em'
		}).then(function(result) {
			if (result.value) {
				swalWithBootstrapButtons('피드가 삭제되었습니다', '', 'success')
					
				//선택한 피드 번호 출력
// 				var nfeed = $("input[name='pstNo']").val();
// 				var nfeed = $('#pstNo').val();
				console.log(pstNo);

				$.ajax({
					type : "post",
					url : "/feed/delete.do",
					data : {"pstNo" : pstNo},
					dataType : 'text',
					success : function() {
						console.log("success");
						location.href="/feed/main.do";
					},
					error : function() {
						console.log("error");
					}
				})

			} else if (
			// Read more about handling dismissals
			result.dismiss === swal.DismissReason.cancel) {
				swalWithBootstrapButtons('피드 삭제가 취소되었습니다', '', 'error')
			}
		})
			
	}
	
	//취소 버튼 클릭 시 피드 새로고침 -> 다른 방법 찾기
	function fn_cancle(){
		location.reload(true);
	}
	
	//좋아요
	var change;
	function fn_like(e, pstNo){
		console.log(e.className);
		
		//좋아요 클릭한 피드번호
		console.log(pstNo);
		
		//해당 피드 좋아요 개수 가져오기
		var $count = $(e).parent().next();
		console.log("$count",$count);
		$.ajax({
			type : "post",
			url : "/feed/checkLikes.do",
			data : {
				"pstNo" : pstNo,
				"mbrId" : "A001",
			},
			dataType : 'json',
			success : function(res) {
				console.log("res",res)
				//좋아요 버튼 바꾸기
				e.removeChild(e.children[0]);
				console.log(">>>>>>>>"+res);
				if(res.myLike==0){  //나의 좋아요 체크
					change = "<svg class='colorLike' xmlns='http://www.w3.org/2000/svg' width='25' height='25' fill='currentColor' class='bi bi-hand-thumbs-up-fill' viewBox='0 0 16 16'><path d='M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a9.84 9.84 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733.058.119.103.242.138.363.077.27.113.567.113.856 0 .289-.036.586-.113.856-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.163 3.163 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.82 4.82 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z'/></svg>"
				}else{ //나의 좋아요 해제
					change = "<svg class='blankLike' xmlns='http://www.w3.org/20 00/svg' width='25' height='25' fill='currentColor' class='bi bi-hand-thumbs-up' viewBox='0 0 16 16'><path d='M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z'/></svg>"
				}
				$(e).append(change);
				$count.text(res.count);
				
			},
			error : function() {
				console.log("error");
			}
		});
		
	}
	//댓글
	
	//댓글 등록
	function fn_cmntInsert(e, pstNo) {
		console.log(pstNo);
		
		var cmntIn = $(e).prev().val();
		console.log(cmntIn);
		
// 		var section = $('.commentBox', $(e).parent().prev().val();
		
		$.ajax({
			type : "post",
			url : "/feed/cmntInsert.do",
			data : {
				"pstNo" : pstNo,
				"cmntCn" : cmntIn
			},
			dataType : 'json',
			success : function(res) {
				console.log("success");
				console.log("res", res);
				
				//성공 시 댓글 목록에 추가하기
				var str = '<div class="media comment">';
                str += '<div class="usr-img mr-2">';
                str += '<img src="/resources/assets/img/90x90.jpg" class="br-30">';
                str += '</div>';
                str += '<div class="media-body align-self-center">';
                str += '<input type="hidden" class="cmntNo" name="cmntNo" value="'+res.cmntNo+'">';
                str += '<p class="d-inline" style="display: inline-block;"><b>'+res.mbrId+'</b></p>&nbsp;&nbsp;';
                str += '<p id="cmntCn" style="display: inline-block;">'+res.cmntCn+'</p>';
                str += '<div id="ctUpdateform" style="display:none; margin-top: 10px; text-align: center;">';
                str += '<input type="text" class="ctUpdate form-control col-md-10 mx-auto" id="ctUpdate" style="display: inline-block;">';
                str += '<button id="ctUndateBtn" class="btn btn-success mb-2" type="button" style="display: inline-block;" onclick="fn_cmntUpdate('+res.cmntNo+')">modify</button>';
                str += '</div>';
                str += '</div>';
                str += '<div class="media-notation">';
                str += '<a href="javascript:void(0);" class="cmntUpdate"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-eraser-fill" viewBox="0 0 16 16"><path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/></svg></a>';
                str += '&nbsp;';
                str += '<a href="javascript:void(0);" class="cmntDelete" onclick="fn_cmntDelete('+res.cmntNo+')"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></a>';
                str += '</div>';
                str += '</div>';
				
        		$(e).parent().prev().append(str);
		        //댓글 입력창 비워주기
				$(e).prev().val('');
			},
			error : function() {
				console.log("error");
			}
		});
	}
	//댓글 수정 버튼 클릭 시
	$(function(){
		$(".cmntUpdate").on("click", function(e){
			//수정할 번호 가져오기
			var updateNo = $(".cmntNo", $(this).parent().prev()).val();
			console.log(updateNo);
			
			//수정창 띄우기
			$("#ctUpdateform", $(this).parent().prev()).show();
			
			//수정할 내용 가져오기
			var ctCn = $("#cmntCn", $(this).parent().prev()).text();
			console.log(ctCn);
			$(".ctUpdate").val(ctCn);
			
			//수정창에서 입력한 내용 가져오기
			$(".ctUpdate").on("change", function(){
				var ctCn = $(this).val();
				console.log(ctCn);
				$("#ctUpdate").val(ctCn);
				
			})
			
		})
	})
	
	//수정내용 보내기
	function fn_cmntUpdate(cmntNo){
		
		var ctCon = $("#ctUpdate").val();
		console.log(ctCon);
		
		$.ajax({
			type : "post",
			url : "/feed/cmntUpdate.do",
			data : {
				"cmntNo" : cmntNo,
				"cmntCn" : ctCon
			},
			dataType : 'text',
			success : function(res) {
				console.log("success");
				//해당 댓글을 수정한 목록 가져오기
				
				
				
				location.href="/feed/main.do";
			},
			error : function(res) {
				console.log("error");
			}
		});
		
	}
	
	//댓글 삭제
	function fn_cmntDelete(cmntNo){
		//삭제할 댓글 번호
		console.log(cmntNo);
		
		const swalWithBootstrapButtons = swal.mixin({
			confirmButtonClass : 'btn btn-success btn-rounded',
			cancelButtonClass : 'btn btn-danger btn-rounded mr-3',
			buttonsStyling : false,
		})

		swalWithBootstrapButtons({
			title : '댓글을 삭제하시겠습니까?',
			text : "",
			type : 'warning',
			showCancelButton : true,
			confirmButtonText : 'OK',
			cancelButtonText : 'Cancel',
			reverseButtons : true,
			padding : '2em'
		}).then(function(result) {
			if (result.value) {
				swalWithBootstrapButtons('댓글이 삭제되었습니다', '', 'success')

				$.ajax({
					type : "post",
					url : "/feed/cmntDelete.do",
					data : {"cmntNo" : cmntNo},
					dataType : 'text',
					success : function() {
						console.log("success");
						//해당 댓글이 삭제된 목록 가져오기
						location.href="/feed/main.do";
					},
					error : function() {
						console.log("error");
					}
				})

			} else if (
			// Read more about handling dismissals
			result.dismiss === swal.DismissReason.cancel) {
				swalWithBootstrapButtons('댓글 삭제가 취소되었습니다', '', 'error')
			}
		})
		
	}
	
	
</script>


<!-- 피드 section 시작 -->
<div class="layout-px-spacing">
<div class="feedcontainer">

    <div class="page-header">
<!--         <div class="page-title"> -->
<!--             <h3>피드</h3> -->
<!--         </div> -->
    </div>

    <div class="row layout-top-spacing">
        <div id="timelineProfile" class="col-lg-12 layout-spacing">
             <div class="statbox widget box box-shadow">
                <div class="widget-header">
                    <div class="row">
                        <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                            <h4>
                        	<button type="button" class="btn btn-outline-primary btn-rounded mb-2 writeBtn" style="float:right;" data-toggle="modal" data-target="#addTaskModal">
                        	<font><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg></font>
                        	</button></h4>
                        </div>
                    </div>
                </div>
                
                <!-- 피드 section 시작 -->
                <c:forEach var="vo" items="${list}">
                <div class="widget-content widget-content-area" style="padding-top: 10px;">
                    <div class="timeline-simple">
                        <div class="timeline-list" style="margin-top: 10px;">
<%--                             <p class="meta-update-day">${list.pstWrtDt}</p> --%>
                          
                          <div class="timeline-post-content">
                              <div class="user-profile" style="display:inline-block; height:200px;">
                                  <img src="/resources/assets/img/90x90.jpg" alt="" class="br-50">
	                                  	<!-- 공지 라벨 시작-->
		                                  	<c:if test="${vo.ntcYn eq'Y'}">
		                             	      <div class="notification" style="display: flex; justify-content:center;">
													<svg style="margin-top: 3px;" "http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bell">
														<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
														<path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
													공지
		                             		 </div>
		                                  	</c:if>
	                                  	<!-- 공지 라벨 끝-->
									</div>
                              <div class="feedSection" style="float:right; width:80%; margin-bottom:30px;" >
                              	<div class="feed">
                                  	<h4>${vo.mbrId}</h4>
                                   	<input type="hidden" class="pstNo" name="pstNo" value="${vo.pstNo}">
                                   	<input type="hidden" class="ntcYn" name="ntcYn" value="${vo.ntcYn}">
                                   <!-- 피드 삭제 -->
                                   <button type="button" class="btn btn-outline-danger mb-2 rounded-circle1" style="float:right; margin: 5px;" onclick="fn_delete(${vo.pstNo})">
<%-- 	                                    <button type="button" class="btn btn-outline-danger mb-2 rounded-circle1" style="float:right; margin: 5px;" onclick="fn_delete(${vo.pstNo})"> --%>
                                   	<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2" ><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                                   </button>
                     		             <!-- 피드 수정 -->
                                   <button type="button" id="updateBtn" class="btn btn-outline-warning mb-2 rounded-circle2" style="float:right; margin: 5px;" data-toggle="modal" data-target="#addTaskModal">
<%-- 	                                    	<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pen-tool"><path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle></svg> --%>
                                   	<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-eraser-fill" viewBox="0 0 16 16">
									  <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/>
									</svg>
                                   </button>
                                  </div> 
<!--                                     <p class="meta-time-date">5 sec</p> -->
                                  <div class="feedCn">
<%--                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg> --%>
<!--                                         <h6 class="">Trending Style</h6> -->
                                      <p class="post-text" data-todohtml="<p>${vo.pstCn}</p>">${fn:replace(vo.pstCn, cn, br)}</p>
                                      <div class="post-contributers">
                                          <img src="/resources/assets/img/90x90.jpg" alt="">
                                      </div>
                                      
                                      
                                  </div>
                              </div>
                                      <!-- 좋아요 시작 -->
                                      <div class="LikesSection col-md-12" style="display:inline-block;">
                                      	<a class="likeBtn" href="javascript:" style="display:inline-block;">
                                      		<c:if test="${vo.yn == false}">
                                       		<div class = "likeb" onclick="fn_like(this, ${vo.pstNo})" >
                                      <!-- 좋아요 버튼  들어갈 공간-->
												<svg class="blankLike" xmlns="http://www.w3.org/20 00/svg" width="25" height="25" fill="currentColor" class="bi bi-hand-thumbs-up" viewBox="0 0 16 16"><path d="M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"/></svg>
                                      		</div>
                                     			</c:if>
                                  			
                                  			<c:if test="${vo.yn == true}">
                                   			<div class = "likec" onclick="fn_like(this, ${vo.pstNo})" >
                                   				<svg class="colorLike" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-hand-thumbs-up-fill" viewBox="0 0 16 16"><path d="M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a9.84 9.84 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733.058.119.103.242.138.363.077.27.113.567.113.856 0 .289-.036.586-.113.856-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.163 3.163 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.82 4.82 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z"/></svg>
											</div>
											</c:if>
										
										</a>
											<p id="count" style="display:inline-block;">${vo.count}</p>
	                                  </div>
	                                      <!-- 좋아요 끝 -->
                          </div>
                        <!-- 댓글 -->
                         <div class = "cmntSection col-md-12 mx-auto">
                         	<!-- 댓글 목록 -->
                         	   <blockquote class="blockquote media-object" style="box-shadow: none; margin-top: 10px;">
		                         <div class="commentBox">
		                         	<c:forEach var="cmnt" items="${cmnt}">
		                         		<c:if test="${vo.cmntYn==true && vo.pstNo == cmnt.pstNo}">
	                                     <div class="media comment">
	                                         <div class="usr-img mr-2">
	                                             <img alt="avatar" src="/resources/assets/img/90x90.jpg" class="br-30">
	                                         </div>
	                                         <div class="media-body align-self-center">
	                                         	<!-- 댓글 1개 -->
	                                         	<input type="hidden" class="cmntNo" name="cmntNo" value="${cmnt.cmntNo}">
		                                         	<p class="d-inline" style="display: inline-block;"><b>${cmnt.mbrId}</b></p>&nbsp;&nbsp;
		                                           	<p id="cmntCn" style="display: inline-block;">${cmnt.cmntCn}</p>
		                                        <!-- 해당 댓글 수정창 -->
	                                            <div id="ctUpdateform" style="display:none; margin-top: 10px; text-align: center;">
					                              <input type="text" class="ctUpdate form-control col-md-10 mx-auto" id="ctUpdate" style="display: inline-block;">
					                              <button id="ctUndateBtn" class="btn btn-success mb-2" type="button" style="display: inline-block;" onclick="fn_cmntUpdate(${cmnt.cmntNo})">modify</button>
					                      		</div>
	                                         </div>
	                                         <div class="media-notation">
	                                         <!-- 댓글 수정버튼 -->
                                                <a href="javascript:void(0);" class="cmntUpdate"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-eraser-fill" viewBox="0 0 16 16"><path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/></svg></a>
                                                &nbsp;
	                                         <!-- 댓글 삭제버튼 -->
                                                <a href="javascript:void(0);" class="cmntDelete" onclick="fn_cmntDelete(${cmnt.cmntNo})"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></a>
                                            </div>
	                                     </div>
	                                     </c:if>
			                         </c:forEach>
                                   </div>
<%--                                                     <small class="text-right">Someone famous <cite title="Source Title">Source Title</cite></small> --%>
			                         	<!-- 댓글 작성 -->
			                          <div class="input-form" style="margin-top: 10px; text-align: center;">
			                              <input type="text" class="skills form-control col-md-10 mx-auto" id="skills" placeholder="댓글 입력.." style="display: inline-block;" value="">
			                              <button id="add-skills" class="btn btn-primary" type="button" style="display: inline-block;" onclick="fn_cmntInsert(this, ${vo.pstNo})">Add</button>
			                          </div>
                                 </blockquote>
                         </div>
                      </div>
                  </div>
                  
              	</div>
                </c:forEach>
            </div>
        </div>
    </div>
</div>
</div>
<!-- 피드 section 끝 -->

<!-- 글쓰기, 글 수정 모달창 -->
<form id="pstVO" name="pstVO" method="post" action="/feed/insert.do" enctype="multipart/form-data" accept-charset="UTF-8">
   <div class="modal fade" id="addTaskModal" tabindex="-1" role="dialog" aria-labelledby="addTaskModalTitle" aria-hidden="true">
       <div class="modal-dialog modal-dialog-centered" role="document">
           <div class="modal-content">
               <div class="modal-body">
               		<div class="compose-content" id="addTaskModalTitle">
						<h5 class="" style="text-align: center;">Feed</h5>
							<div class="compose-box">
								<div class="row">
									<div class="col-md-12">
									</div>
								</div>
								<div class="d-flex  mail-subject mb-4">
                                      <div class="w-100">
<%--                                           <div class="ql-toolbar ql-snow"><span class="ql-formats"><span class="ql-header ql-picker"><span class="ql-picker-label" tabindex="0" role="button" aria-expanded="false" aria-controls="ql-picker-options-0"><svg viewBox="0 0 18 18"> <polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"></polygon> <polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"></polygon> </svg></span><span class="ql-picker-options" aria-hidden="true" tabindex="-1" id="ql-picker-options-0"><span tabindex="0" role="button" class="ql-picker-item" data-value="1"></span><span tabindex="0" role="button" class="ql-picker-item" data-value="2"></span><span tabindex="0" role="button" class="ql-picker-item ql-selected"></span></span></span><select class="ql-header" style="display: none;"><option value="1"></option><option value="2"></option><option selected="selected"></option></select></span><span class="ql-formats"><button type="button" class="ql-bold"><svg viewBox="0 0 18 18"> <path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"></path> <path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"></path> </svg></button><button type="button" class="ql-italic"><svg viewBox="0 0 18 18"> <line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"></line> <line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"></line> <line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"></line> </svg></button><button type="button" class="ql-underline"><svg viewBox="0 0 18 18"> <path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"></path> <rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"></rect> </svg></button></span><span class="ql-formats"><button type="button" class="ql-image"><svg viewBox="0 0 18 18"> <rect class="ql-stroke" height="10" width="12" x="3" y="4"></rect> <circle class="ql-fill" cx="6" cy="7" r="1"></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg></button><button type="button" class="ql-code-block"><svg viewBox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"></line> </svg></button></span></div><div id="taskdescription" class="ql-container ql-snow"><div class="ql-editor ql-blank"  style="height: 120px; overflow-y:scroll; " data-gramm="false" contenteditable="true" data-placeholder=""><p><br></p></div><div class="ql-clipboard" contenteditable="true" tabindex="-1"></div><div class="ql-tooltip ql-hidden"><a class="ql-preview" target="_blank" href="about:blank"></a><input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL"><a class="ql-action"></a><a class="ql-remove"></a></div></div> --%>
<!--                                           <span class="validation-text"></span> -->
											<textarea id="pstCn2" name="pstCn2" rows="8" cols="64" placeholder="내용 입력.." onchange="$('#pstCn').val($(this).val());"></textarea>
	                                        <input type="hidden" id="pstCn" name="pstCn">
	                                        <input type="hidden" id="pstNo" name="pstNo">
	                                        <input type="hidden" id="ntcYn" name="ntcYn" value="N">
	                                        <span class="validation-text"></span>
                                        </div>
                                </div>
						</div>
					</div>
					<!-- 위치, 투표, 공지, 이미지 -->
					<div class="form-group col-md-12" style="margin-top:7px; text-align: center;">
<!-- 						<button type="button" id="mapC" class="btn btn-info btn-rounded mb-2" -->
<!-- 							onclick="fn_map()"> -->
<!-- 							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" -->
<!-- 								viewBox="0 0 24 24" fill="none" stroke="currentColor" -->
<!-- 								stroke-width="2" stroke-linecap="round" stroke-linejoin="round" -->
<!-- 								class="feather feather-map"> -->
<!-- 								<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon> -->
<!-- 								<line x1="8" y1="2" x2="8" y2="18"></line> -->
<!-- 								<line x1="16" y1="6" x2="16" y2="22"></line></svg> -->
<!-- 							위치 -->
<!-- 						</button> -->
						<button type="button" id="mapB" class="btn btn-outline-info btn-rounded mb-2" onclick="fn_map(this)">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
								viewBox="0 0 24 24" fill="none" stroke="currentColor"
								stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
								class="feather feather-map">
								<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon>
								<line x1="8" y1="2" x2="8" y2="18"></line>
								<line x1="16" y1="6" x2="16" y2="22"></line></svg>
							위치
						</button>
						<!-- 투표 버튼 시작 -->
							<button type="button" id="voteC" class="btn btn-warning btn-rounded mb-2" style="display: none;" onclick="fn_vote(this)">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
									viewBox="0 0 24 24" fill="none" stroke="currentColor"
									stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
									class="feather feather-package">
									<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line>
									<path
										d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
									<polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
									<line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
								투표
							</button>
							<button type="button" id="voteB" class="btn btn-outline-warning btn-rounded mb-2" onclick="fn_vote(this)">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
									viewBox="0 0 24 24" fill="none" stroke="currentColor"
									stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
									class="feather feather-package">
									<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line>
									<path
										d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
									<polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
									<line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
								투표
							</button>
						<!-- 투표 버튼 끝 -->
						
						<!-- 공지 버튼 시작 -->
							<button type="button" id="notifyC" class="btn btn-success btn-rounded mb-2" style="display: none;" onclick="fn_notify(this)">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
									viewBox="0 0 24 24" fill="none" stroke="currentColor"
									stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
									class="feather feather-bell">
									<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
									<path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
								공지
							</button>
							<button type="button" id="notifyB" class="btn btn-outline-success btn-rounded mb-2" onclick="fn_notify(this)">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
									viewBox="0 0 24 24" fill="none" stroke="currentColor"
									stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
									class="feather feather-bell">
									<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
									<path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
								공지
							</button>
						<!-- 공지 버튼 끝 -->
						
						
<!-- 						<button type="button" id="imageC" class="btn btn-danger btn-rounded mb-2"> -->
<!-- 							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" -->
<!-- 								fill="currentColor" class="bi bi-images" viewBox="0 0 16 16"> -->
<!--   								<path d="M4.502 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z" /> -->
<!--   								<path d="M14.002 13a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2V5A2 2 0 0 1 2 3a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-1.998 2zM14 2H4a1 1 0 0 0-1 1h9.002a2 2 0 0 1 2 2v7A1 1 0 0 0 15 11V3a1 1 0 0 0-1-1zM2.002 4a1 1 0 0 0-1 1v8l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094l1.777 1.947V5a1 1 0 0 0-1-1h-10z" /></svg> -->
<!-- 							이미지 -->
<!-- 						</button> -->
						<button type="button" id="imageB" class="btn btn-outline-danger btn-rounded mb-2" onclick="fn_image(this)">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
								fill="currentColor" class="bi bi-images" viewBox="0 0 16 16">
  								<path d="M4.502 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z" />
  								<path d="M14.002 13a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2V5A2 2 0 0 1 2 3a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-1.998 2zM14 2H4a1 1 0 0 0-1 1h9.002a2 2 0 0 1 2 2v7A1 1 0 0 0 15 11V3a1 1 0 0 0-1-1zM2.002 4a1 1 0 0 0-1 1v8l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094l1.777 1.947V5a1 1 0 0 0-1-1h-10z" /></svg>
							이미지
						</button>
					</div>
					<!-- 투표 버튼 클릭 시 보여질 div -->
					<div class="voteSection" style="display: none;">
						<!-- 마감일 -->
						<div class="dateSection">
							<div>
								<p style="display: inline-block;">익명여부 : </p>
									<label class="switch s-icons s-outline s-outline-dark mb-4 mr-2" style="display: inline-block;">
									    <input type="checkbox" checked>
									    <span class="slider round"></span>
									</label>
							</div>	
							<br> 							
							<p>마감일 : </p>
							<div class="form-group mb-0">
	                            <input id="dateTimeFlatpickr" class="form-control flatpickr flatpickr-input" type="text" type="text" placeholder="Select Date.." readonly="readonly">
	                        </div>
                        </div>
	                        <br>            
							<p>투표 항목 : </p>
							<div class="input-group mb-3">
							  <input type="text" class="Voteform-control" placeholder="투표 내용을 입력해주세요" style="width:340px; height: 37px;">
							  <div class="input-group-append">
							    <button class="btn btn-outline-dark mb-1 votePlus" type="button" style="margin-right: 0px;">
							    	<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
							    </button>
							    <button class="btn btn-outline-dark mb-1 voteMinus" type="button">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus"><line x1="5" y1="12" x2="19" y2="12"></line></svg>
							    </button>
							  </div>
							</div>
						
						<!-- 익명여부 -->
					</div>
					<div class="modal-footer">
							<button class="btn close-tsk" data-dismiss="modal" onclick="fn_cancle()">
								<i class="flaticon-cancel-12"></i> 취소
							</button>
							<button class="btn add-tsk" id="submit" type="submit">등록</button>
							<button class="btn edit-tsk" id="modify" type="button" style="display: none;" onclick="fn_update(pstCn, pstNo, ntcYn)">수정</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	<sec:csrfInput />
</form>


    <!-- END MAIN CONTAINER -->
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <script src="https://ssl.daumcdn.net/dmaps/map_js_init/postcode.v2.js"></script>
    <script src="/resources/assets/js/libs/jquery-3.1.1.min.js"></script>
    <script src="/resources/bootstrap/js/popper.min.js"></script>
    <script src="/resources/bootstrap/js/bootstrap.min.js"></script>
    <script src="/resources/plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="/resources/assets/js/app.js"></script>
    
    <script>
        $(document).ready(function() {
            App.init();
        });
    </script>
    <script src="/resources/assets/js/custom.js"></script>
    <!-- END GLOBAL MANDATORY STYLES -->
    <script src="/resources/assets/js/ie11fix/fn.fix-padStart.js"></script>
    <script src="/resources/plugins/editors/quill/quill.js"></script>
    
    <script src="/resources/assets/js/apps/todoList.js"></script>
    <script src="/resources/plugins/sweetalerts/sweetalert2.min.js"></script>
    <script src="/resources/plugins/sweetalerts/custom-sweetalert.js"></script>
    <script src="/resources/plugins/highlight/highlight.pack.js"></script>
    
    <script src="/resources/plugins/flatpickr/flatpickr.js"></script>
    <script src="/resources/plugins/flatpickr/custom-flatpickr.js"></script>
    
    <script type="text/javascript">
	//투표 마감일 선택창 띄우기
	var f2 = flatpickr(document.getElementById('dateTimeFlatpickr'), {
	    enableTime: true,
	    dateFormat: "Y-m-d H:i",
	});
    </script>
